(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{7276:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(224)}])},224:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>y});var n=t(4848),o=t(3368),r=t.n(o);t(9965);var i=t(9498),c=t.n(i),s=t(1280),l=t.n(s),d=t(6540),x=t(7583),m=t(4809),p=t.n(m),g=t(3596),h=t(2064),u=t(7320),w=t(1778),f=t(6327),_=t(2297),j=t(8122),b=t(489),v=t(9942);function A(){let[e,a]=(0,d.useState)([]),[t,o]=(0,d.useState)({}),[r,i]=(0,d.useState)(0),[c,s]=(0,d.useState)(!1),l=async(e,a)=>{let{logo:n,phone:o,message:r}=e,i=a.getContext("2d"),c=new Image;c.src="/template.png",await new Promise(e=>c.onload=e),a.width=c.width,a.height=c.height,i.drawImage(c,0,0),i.font="30px Arial",i.fillStyle="white",i.fillText(o,300,398);let s="sms:".concat(o,"?&body=").concat(encodeURIComponent(r)),l=document.createElement("canvas");await x.toCanvas(l,s),i.drawImage(l,280,460,250,250);let d=new Image;d.src=t[n]||"/logos/".concat(n),await new Promise(e=>d.onload=e),i.drawImage(d,60,350,125,48);let m=new Image;m.src=t[n]||"/logos/".concat(n),await new Promise(e=>m.onload=e),i.drawImage(m,460,730,125,48)},m=(e,a)=>{let t=e.toDataURL("image/png"),n=new g.Ay({orientation:"portrait",unit:"pt",format:[e.width,e.height]});n.addImage(t,"PNG",0,0,e.width,e.height),n.save(a)},A=async()=>{for(let a of e){let e=document.createElement("canvas");await l(a,e);let t=a.customer||"Flyer";m(e,"".concat(t,".pdf"))}};return(0,n.jsxs)(h.A,{sx:{textAlign:"center",padding:"30px",maxWidth:"800px",margin:"auto"},children:[(0,n.jsx)(u.A,{variant:"h4",sx:{marginBottom:"20px",fontWeight:"bold"},children:"Matts Cool Batch PDF Generator"}),(0,n.jsxs)(w.A,{sx:{padding:"20px",boxShadow:"none",border:"none",marginBottom:"20px",background:"transparent"},children:[(0,n.jsxs)(h.A,{sx:{marginBottom:"20px"},children:[(0,n.jsx)(u.A,{variant:"h6",sx:{marginBottom:"10px"},children:"Upload CSV File"}),(0,n.jsxs)(f.A,{variant:"contained",component:"label",startIcon:(0,n.jsx)(j.A,{}),sx:{backgroundColor:"#007bff",color:"white","&:hover":{backgroundColor:"#0056b3"}},children:["Select CSV",(0,n.jsx)("input",{type:"file",accept:".csv",hidden:!0,onChange:e=>{let t=e.target.files[0];t&&p().parse(t,{header:!0,skipEmptyLines:!0,complete:e=>{a(e.data),s(!1)}})}})]})]}),(0,n.jsxs)(h.A,{sx:{marginBottom:"20px"},children:[(0,n.jsx)(u.A,{variant:"h6",sx:{marginBottom:"10px"},children:"Upload Images"}),(0,n.jsx)(_.A,{badgeContent:r,color:"primary",children:(0,n.jsxs)(f.A,{variant:"contained",component:"label",startIcon:(0,n.jsx)(j.A,{}),sx:{backgroundColor:"#28a745",color:"white","&:hover":{backgroundColor:"#218838"}},children:["Select Images",(0,n.jsx)("input",{type:"file",accept:"image/png, image/jpeg",multiple:!0,hidden:!0,onChange:e=>{let a=e.target.files,n={...t};for(let e of a){let a=new FileReader;a.onload=a=>{n[e.name]=a.target.result,o({...n})},a.readAsDataURL(e)}i(a.length)}})]})})]})]}),e.length>0&&!c&&(0,n.jsx)(f.A,{variant:"contained",startIcon:(0,n.jsx)(v.A,{}),sx:{marginBottom:"20px",backgroundColor:"#6200ea",color:"white","&:hover":{backgroundColor:"#4b00b3"},fontSize:"16px",fontWeight:"bold",padding:"12px 20px"},onClick:()=>s(!0),children:"Create Flyers"}),c&&(0,n.jsx)(f.A,{variant:"contained",startIcon:(0,n.jsx)(b.A,{}),sx:{marginBottom:"20px",backgroundColor:"#ff9800",color:"white","&:hover":{backgroundColor:"#e68900"},fontSize:"16px",fontWeight:"bold",padding:"12px 20px"},onClick:A,children:"Save All as PDFs"}),c&&(0,n.jsx)(h.A,{sx:{display:"flex",flexDirection:"column",gap:"20px"},children:e.map((e,a)=>(0,n.jsxs)(w.A,{sx:{padding:"20px",borderRadius:"10px",marginBottom:"20px"},children:[(0,n.jsx)("canvas",{ref:async a=>{a&&await l(e,a)},style:{border:"1px solid #ccc",width:"100%",maxWidth:"600px"}}),(0,n.jsx)(f.A,{variant:"contained",startIcon:(0,n.jsx)(b.A,{}),sx:{marginTop:"10px",backgroundColor:"#007bff",color:"white","&:hover":{backgroundColor:"#0056b3"}},onClick:()=>{let t=document.createElement("canvas");l(e,t).then(()=>{let n=e.customer||"Flyer_".concat(a+1);m(t,"".concat(n,".pdf"))})},children:"Save as PDF"})]},a))})]})}var C=t(9680),k=t.n(C);function y(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r(),{children:[(0,n.jsx)("title",{children:"Create Next App"}),(0,n.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)("div",{className:"".concat(k().page," ").concat(c().variable," ").concat(l().variable),children:(0,n.jsx)("main",{className:k().main,children:(0,n.jsx)(A,{})})})]})}},9680:e=>{e.exports={page:"Home_page__Yvcrx",main:"Home_main__VkIEL",ctas:"Home_ctas__LOR2C",primary:"Home_primary__66jd8",secondary:"Home_secondary__p1_Og",footer:"Home_footer__yFiaX",logo:"Home_logo__IOQAX"}}},e=>{var a=a=>e(e.s=a);e.O(0,[673,642,636,593,792],()=>a(7276)),_N_E=e.O()}]);